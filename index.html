<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIVOLTEK软件下载</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* 全局样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        /* 背景+蒙版组合 - 增强效果 */
        body {
            position: relative; 
            background-image: url('background.jpg'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        /* 白色蒙版层 - 降低透明度 */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.5);
            z-index: 0; 
            backdrop-filter: blur(2px);
        }

        /* 容器样式 - 增强玻璃效果 */
        .container {
            position: relative; 
            z-index: 1; 
            max-width: 1000px;
            margin: 30px auto;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 40px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.25);
        }

        /* 标题样式 */
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(52, 152, 219, 0.5);
            font-weight: 600;
            font-size: 2.2rem;
            position: relative;
        }
        
        h1::after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 3px;
        }

        /* 顶部功能栏 */
        .top-bar {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-bottom: 30px;
        }

        /* 日夜模式切换按钮 */
        .mode-toggle {
            display: flex;
            align-items: center;
        }
        .mode-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 30px;
            background: linear-gradient(135deg, #3498db, #2ecc71);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .mode-btn i {
            margin-right: 6px;
        }

        /* 语言选择下拉框 - 优化白天模式显示 */
        .lang-select {
            position: relative;
        }
        .lang-select select {
            padding: 8px 16px;
            padding-left: 42px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.7);
            color: #2c3e50;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }
        .lang-select select:hover {
            background: rgba(255, 255, 255, 0.9);
        }
        .lang-select select option {
            background: rgba(255, 255, 255, 0.95);
            color: #2c3e50;
        }
        .lang-select::before {
            content: "";
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 14px;
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 2;
        }
        /* 根据当前选择的语言显示对应国旗 */
        .lang-select[data-lang="zh"]::before {
            background-image: url('https://cdn-icons-png.flaticon.com/512/195/195830.png');
        }
        .lang-select[data-lang="en"]::before {
            background-image: url('https://cdn-icons-png.flaticon.com/512/197/197574.png');
        }
        .lang-select[data-lang="es"]::before {
            background-image: url('https://cdn-icons-png.flaticon.com/512/196/196673.png');
        }

        /* 切换选项卡样式 - 调整按钮大小 */
        .tab-switcher {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.5);
            padding: 4px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            width: 80%;
            max-width: 350px;
            margin: 0 auto 30px;
            backdrop-filter: blur(5px);
        }
        .tab-btn {
            padding: 8px 20px;
            border: none;
            background: transparent;
            color: #2c3e50;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            z-index: 1;
            flex: 1;
            text-align: center;
        }
        .tab-btn.active {
            color: white;
        }
        .tab-slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            width: calc(50% - 4px);
            background: linear-gradient(135deg, #3498db, #2ecc71);
            border-radius: 25px;
            transition: all 0.4s ease-in-out;
            z-index: 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .tab-btn:not(.active):hover {
            color: #3498db;
        }

        /* 内容区域样式 */
        .content-area {
            position: relative;
            min-height: 850px;
            overflow: hidden;
        }
        .content-panel {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            transition: transform 0.5s ease-in-out;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(5px);
        }
        .pc-panel {
            transform: translateX(0);
        }
        .driver-panel {
            transform: translateX(100%);
        }
        .pc-panel.hide {
            transform: translateX(-100%);
        }
        .driver-panel.show {
            transform: translateX(0);
        }

        /* 软件列表样式 - 修改为垂直布局 */
        .software-list {
            list-style: none;
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        .software-item {
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            transition: all 0.3s;
            border-left: 4px solid #3498db;
            backdrop-filter: blur(3px);
        }
        .software-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.9);
        }
        .software-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .software-number {
            font-weight: 600;
            color: #2c3e50;
            font-size: 16px;
            display: flex;
            align-items: center;
        }
        .software-number::before {
            content: "•";
            color: #3498db;
            font-size: 24px;
            margin-right: 12px;
        }
        .software-description {
            color: #555;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 0px;
            padding-left: 36px;
        }
        .software-footer {
            display: flex;
            justify-content: flex-end;
        }

        /* 下载按钮样式 */
        .download-btn {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, #3498db, #2ecc71);
            color: white;
            padding: 8px 16px;
            border-radius: 30px;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .download-btn i {
            margin-right: 6px;
        }
        
        /* 驱动下载样式 */
        .driver-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .driver-item {
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            border-left: 4px solid #2ecc71;
            backdrop-filter: blur(3px);
        }
        .driver-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.9);
        }
        .driver-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #2ecc71, #3498db);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
            width: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .driver-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .driver-btn i {
            margin-right: 8px;
        }

        /* 版本信息标签 */
        .version-tag {
            display: inline-block;
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        /* 页脚样式 */
        .footer {
            text-align: center;
            margin-top: 50px;
            color: #7f8c8d;
            font-size: 14px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        /* 响应式设计 - 优化移动端 */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 20px auto;
            }
            
            h1 {
                font-size: 1.8rem;
                padding-bottom: 15px;
            }
            
            .top-bar {
                flex-direction: column;
                align-items: flex-end;
                gap: 10px;
            }
            
            .software-list,
            .driver-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .software-item,
            .driver-item {
                padding: 15px;
            }
            
            .software-number {
                font-size: 15px;
            }
            
            .software-description {
                font-size: 13px;
                padding-left: 0;
            }
            
            .download-btn,
            .driver-btn {
                padding: 8px 12px;
                font-size: 13px;
            }
            
            .tab-switcher {
                width: 90%;
            }
            
            .tab-btn {
                padding: 8px 15px;
                font-size: 14px;
            }
            
            .version-tag {
                display: block;
                margin: 5px 0 0 0;
            }
        }

        /* 夜间模式 */
        body.dark-mode {
            color: #e0e0e0;
        }
        body.dark-mode::before {
            background: rgba(0, 0, 0, 0.7); 
            backdrop-filter: blur(5px);
        }
        body.dark-mode .container {
            background-color: rgba(30, 30, 40, 0.85);
            border-color: rgba(255, 255, 255, 0.1);
        }
        body.dark-mode h1 {
            color: #f8f9fa;
        }
        body.dark-mode h1::after {
            background: linear-gradient(90deg, #2ecc71, #3498db);
        }
        body.dark-mode .software-number {
            color: #f8f9fa;
        }
        body.dark-mode .software-description {
            color: #b0b0b0;
        }
        body.dark-mode .download-btn {
            background: linear-gradient(135deg, #2ecc71, #3498db);
        }
        body.dark-mode .mode-btn {
            background: linear-gradient(135deg, #2ecc71, #3498db);
        }
        body.dark-mode .lang-select select {
            background-color: rgba(45, 55, 72, 0.8);
            color: white;
            border-color: rgba(74, 85, 104, 0.5);
        }
        body.dark-mode .lang-select select option {
            background: rgba(45, 55, 72, 0.95);
            color: white;
        }
        body.dark-mode .driver-btn {
            background: linear-gradient(135deg, #3498db, #2ecc71);
        }
        body.dark-mode .software-item,
        body.dark-mode .driver-item {
            background-color: rgba(45, 55, 72, 0.7);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        body.dark-mode .software-item {
            border-left-color: #2ecc71;
        }
        body.dark-mode .driver-item {
            border-left-color: #3498db;
        }
        body.dark-mode .content-panel {
            background-color: rgba(45, 55, 72, 0.7);
        }
        body.dark-mode .tab-switcher {
            background: rgba(74, 85, 104, 0.6);
        }
        body.dark-mode .tab-btn {
            color: #f8f9fa;
        }
        body.dark-mode .tab-btn:not(.active):hover {
            color: #2ecc71;
        }
        body.dark-mode .tab-slider {
            background: linear-gradient(135deg, #2ecc71, #3498db;
        }
        body.dark-mode .footer {
            color: #a0aec0;
            border-top-color: rgba(74, 85, 104, 0.5);
        }
        body.dark-mode .version-tag {
            background: rgba(46, 204, 113, 0.1);
            color: #2ecc71;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 顶部功能栏：模式切换 + 语言切换 -->
        <div class="top-bar">
            <!-- 日夜模式切换（单一按钮） -->
            <div class="mode-toggle">
                <button id="modeBtn" class="mode-btn"><i class="fas fa-moon"></i>黑夜模式</button>
            </div>

            <!-- 语言选择（改为下拉框） -->
            <div class="lang-select" data-lang="zh">
                <select id="langSelect">
                    <option value="zh">简体中文 (CH)</option>
                    <option value="en">English (EN)</option>
                    <option value="es">Español (ES)</option>
                </select>
            </div>
        </div>

        <h1>LIVOLTEK软件下载</h1>
        
        <!-- 切换选项卡（调整后尺寸） -->
        <div class="tab-switcher">
            <div class="tab-slider"></div>
            <button id="pcTab" class="tab-btn active">上位机下载</button>
            <button id="driverTab" class="tab-btn">驱动下载</button>
        </div>

        <!-- 内容区域 -->
        <div class="content-area">
            <!-- 上位机下载面板 -->
            <div id="pcPanel" class="content-panel pc-panel">
                <ul class="software-list">
                    <li class="software-item">
                        <div class="software-header">
                            <span class="software-number">LIVOLTEK LV BMS Upper <span class="version-tag">v2.0.0</span></span>
                            <a href="./Resource/LIVOLTEK LV BMS Upper.7z" class="download-btn" data-lang-key="download">
                                <i class="fas fa-download"></i>下载
                            </a>
                        </div>
                        <p class="software-description">
                            适配自研低压电池系列，支持BMS数据实时监控、参数配置、故障诊断等功能，适用于BLF-B5100系列产品。替换原先的BMSTool上位机软件。
                        </p>
                    </li>
                    <li class="software-item">
                        <div class="software-header">
                            <span class="software-number">Pylon CAN bus Protocol V2.0.6 Upper <span class="version-tag">v1.0.0</span></span>
                            <a href="./Resource/Pylon_CAN_Bus_Protocol_V2.0.6_Upper.7z" class="download-btn" data-lang-key="download">
                                <i class="fas fa-download"></i>下载
                            </a>
                        </div>
                        <p class="software-description">
                            适配自研低压储能以及拓邦低压储能上位机以及其他支持派能低压协议的电池，储能系统专用上位机，最基础的电压、电流、SOC、SOH、最高最低单体电压温度状态显示等，并且实时保存报文日志！
                        </p>
                    </li>
                    <li class="software-item">
                        <div class="software-header">
                            <span class="software-number">BLF-C61300 <span class="version-tag">v4.1.0</span></span>
                            <a href="#" class="download-btn" data-lang-key="download">
                                <i class="fas fa-download"></i>下载
                            </a>
                        </div>
                        <p class="software-description">
                            储能系统专用上位机，支持能量管理、充放电策略配置、历史数据查询等功能，适用于工商业储能场景。
                        </p>
                    </li>
                    <li class="software-item">
                        <div class="software-header">
                            <span class="software-number">BLF-D71400 <span class="version-tag">v1.5.2</span></span>
                            <a href="#" class="download-btn" data-lang-key="download">
                                <i class="fas fa-download"></i>下载
                            </a>
                        </div>
                        <p class="software-description">
                            动力电池测试平台配套软件，支持充放电测试、性能分析、报告生成等功能，满足研发测试需求。
                        </p>
                    </li>
                    <li class="software-item">
                        <div class="software-header">
                            <span class="software-number">BLF-E82500 <span class="version-tag">v5.0.0</span></span>
                            <a href="#" class="download-btn" data-lang-key="download">
                                <i class="fas fa-download"></i>下载
                            </a>
                        </div>
                        <p class="software-description">
                            新一代电池管理平台，集成AI算法，支持预测性维护、能效优化等高级功能，适用于智能微网系统。
                        </p>
                    </li>
                    <li class="software-item">
                        <div class="software-header">
                            <span class="software-number">BLF-F93600 <span class="version-tag">v2.3.7</span></span>
                            <a href="#" class="download-btn" data-lang-key="download">
                                <i class="fas fa-download"></i>下载
                            </a>
                        </div>
                        <p class="software-description">
                            便携式电池检测工具配套软件，支持蓝牙连接，提供快速诊断和现场维护功能，适用于售后服务场景。
                        </p>
                    </li>
                </ul>
            </div>
            
            <!-- 驱动下载面板 -->
            <div id="driverPanel" class="content-panel driver-panel">
                <div class="driver-grid">
                    <div class="driver-item">
                        <a href="https://manual.zlg.cn/web/#/146" target="_blank" class="driver-btn">
                            <i class="fas fa-download"></i> ZLG CAN卡驱动
                        </a>
                    </div>
                    <div class="driver-item">
                        <a href="https://www.silabs.com/developer-tools/usb-to-uart-bridge-vcp-drivers?tab=downloads" target="_blank" class="driver-btn">
                            <i class="fas fa-download"></i> CP210x 485驱动
                        </a>
                    </div>
                    <div class="driver-item">
                        <a href="./Resource/创新科技红色CAN USB驱动安装工具Setup(V1.40).exe" target="_blank" class="driver-btn">
                            <i class="fas fa-download"></i> 创新科技红色CAN卡驱动
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>版权所有 &copy; 2025 LIVOLTEK软件下载中心</p>
        </div>
    </div>

    <script>
        // 1. 日夜模式切换（单一按钮）
        const modeBtn = document.getElementById('modeBtn');
        const isSystemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const langSelectEl = document.querySelector('.lang-select');
        
        // 初始化：跟随系统
        if (isSystemDark) {
            document.body.classList.add('dark-mode');
            updateModeButtonText();
        }

        // 监听系统模式变化
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!document.body.classList.contains('user-toggled')) {
                document.body.classList.toggle('dark-mode', e.matches);
                updateModeButtonText();
            }
        });

        // 手动切换逻辑
        modeBtn.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            document.body.classList.add('user-toggled');
            updateModeButtonText();
        });

        // 2. 语言切换（下拉框）
        const langSelect = document.getElementById('langSelect');
        const i18n = {
            zh: {
                title: 'LIVOLTEK软件下载',
                footer: '版权所有 &copy; 2025 LIVOLTEK软件下载中心',
                download: '下载',
                driver1: 'ZLG CAN卡驱动',
                driver2: 'CP210x 485驱动',
                driver3: '创新科技红色CAN卡驱动',
                pcTab: '上位机下载',
                driverTab: '驱动下载',
                modeBtn: {
                    dark: '<i class="fas fa-sun"></i>白天模式',
                    light: '<i class="fas fa-moon"></i>黑夜模式'
                },
                items: [
                    {name: 'LIVOLTEK自研低压电池上位机', desc: '适配自研低压电池系列，支持BMS数据实时监控、参数配置、故障诊断等功能，适用于BLF-B5100系列产品。替换原先的BMSTool上位机软件。'},
                    {name: '派能CAN协议V2.0.6上位机', desc: '适配自研低压储能以及拓邦低压储能上位机以及其他支持派能低压协议的电池，储能系统专用上位机，最基础的电压、电流、SOC、SOH、最高最低单体电压温度状态显示等，并且实时保存报文日志！'},
                    {name: 'BLF-C61300', desc: '适配自研低压储能以及拓邦低压储能上位机以及其他支持派能低压协议的电池，储能系统专用上位机，最基础的电压、电流、SOC、SOH、最高最低单体电压温度状态显示等，并且实时保存报文日志！'},
                    {name: 'BLF-D71400', desc: '动力电池测试平台配套软件，支持充放电测试、性能分析、报告生成等功能，满足研发测试需求。'},
                    {name: 'BLF-E82500', desc: '新一代电池管理平台，集成AI算法，支持预测性维护、能效优化等高级功能，适用于智能微网系统。'},
                    {name: 'BLF-F93600', desc: '便携式电池检测工具配套软件，支持蓝牙连接，提供快速诊断和现场维护功能，适用于售后服务场景。'}
                ],
                versions: ['v2.0.0', 'v1.0.0', 'v4.1.0', 'v1.5.2', 'v5.0.0', 'v2.3.7']
            },
            en: {
                title: 'LIVOLTEK Software Download',
                footer: 'All rights reserved &copy; 2025 LIVOLTEK Software Download Center',
                download: 'Download',
                driver1: 'ZLG CAN Driver',
                driver2: 'CP210x 485 Driver',
                driver3: 'Innovative Technology Red CAN Driver',
                pcTab: 'PC Software',
                driverTab: 'Drivers',
                modeBtn: {
                    dark: '<i class="fas fa-sun"></i>Light Mode',
                    light: '<i class="fas fa-moon"></i>Dark Mode'
                },
                items: [
                    {name: 'LIVOLTEK LV BMS Upper', desc: 'Compatible with our self-developed low-voltage battery series, supporting real-time BMS data monitoring, parameter configuration, fault diagnosis and other functions. Suitable for BLF-B5100 series products. Replaces the original BMSTool PC software.'},
                    {name: 'Pylon CAN bus Protocol V2.0.6 Upper', desc: 'Compatible with self-developed low-voltage energy storage, Topband low-voltage energy storage, and other batteries supporting Pylon low-voltage protocol. Dedicated host computer for energy storage systems, displaying basic voltage, current, SOC, SOH, highest/lowest cell voltage and temperature status, with real-time message logging!'},
                    {name: 'BLF-C61300', desc: 'Dedicated software for energy storage systems, supporting energy management, charge/discharge strategy configuration, historical data query, suitable for commercial & industrial energy storage scenarios.'},
                    {name: 'BLF-D71400', desc: 'Power battery testing platform software, supporting charge/discharge testing, performance analysis, report generation, meeting R&D testing requirements.'},
                    {name: 'BLF-E82500', desc: 'Next-gen battery management platform with AI algorithms, supporting predictive maintenance, energy efficiency optimization, suitable for smart microgrid systems.'},
                    {name: 'BLF-F93600', desc: 'Portable battery diagnostic tool software, supporting Bluetooth connection, providing quick diagnosis and field maintenance, suitable for after-sales service scenarios.'}
                ],
                versions: ['v2.0.0', 'v1.0.0', 'v4.1.0', 'v1.5.2', 'v5.0.0', 'v2.3.7']
            },
            es: {
                title: 'Descarga de Software LIVOLTEK',
                footer: 'Todos los derechos reservados &copy; 2025 Centro de Descarga de Software LIVOLTEK',
                download: 'Descargar',
                driver1: 'Controlador ZLG CAN',
                driver2: 'Controlador 485 CP210x',
                driver3: 'Controlador CAN Rojo de Tecnología Innovadora',
                pcTab: 'Software de PC',
                driverTab: 'Controladores',
                modeBtn: {
                    dark: '<i class="fas fa-sun"></i>Modo Claro',
                    light: '<i class="fas fa-moon"></i>Modo Oscuro'
                },
                items: [
                    {name: 'LIVOLTEK LV BMS Upper', desc: 'ompatible con nuestra serie de baterías de baja tensión de desarrollo propio, que admite funciones como monitorización de datos BMS en tiempo real, configuración de parámetros, diagnóstico de fallos, etc. Adecuado para productos de la serie BLF-B5100. Sustituye al software original BMSTool para PC.'},
                    {name: 'Pylon CAN bus Protocol V2.0.6 Upper', desc: 'Compatible con almacenamiento de energía de baja tensión autodesarrollado, almacenamiento de energía de baja tensión Topband y otras baterías compatibles con el protocolo de baja tensión Pylon. Computadora host dedicada para sistemas de almacenamiento de energía, que muestra voltaje básico, corriente, SOC, SOH, voltaje de celda más alto/más bajo y estado de temperatura, ¡con registro de mensajes en tiempo real!'},
                    {name: 'BLF-C61300', desc: 'Software dedicado para sistemas de almacenamiento de energía, compatible con gestión de energía, configuración de estrategias de carga/descarga, consulta de datos históricos, adecuado para escenarios de almacenamiento de energía comercial e industrial.'},
                    {name: 'BLF-D71400', desc: 'Software de plataforma de prueba de baterías de potencia, compatible con pruebas de carga/descarga, análisis de rendimiento, generación de informes, que cumple con los requisitos de prueba de I+D.'},
                    {name: 'BLF-E82500', desc: 'Plataforma de gestión de baterías de próxima generación con algoritmos de IA, compatible con mantenimiento predictivo, optimización de eficiencia energética, adecuada para sistemas de microrredes inteligentes.'},
                    {name: 'BLF-F93600', desc: 'Software de herramienta de diagnóstico de baterías portátil, compatible con conexión Bluetooth, proporcionando diagnóstico rápido y mantenimiento en campo, adecuado para escenarios de servicio postventa.'}
                ],
                versions: ['v2.0.0', 'v1.0.0', 'v4.1.0', 'v1.5.2', 'v5.0.0', 'v2.3.7']
            }
        };

        // 更新模式按钮文本的辅助函数
        function updateModeButtonText() {
            const currentLang = langSelect.value;
            modeBtn.innerHTML = document.body.classList.contains('dark-mode') 
                ? i18n[currentLang].modeBtn.dark 
                : i18n[currentLang].modeBtn.light;
        }

        // 3. 选项卡切换功能
        const pcTab = document.getElementById('pcTab');
        const driverTab = document.getElementById('driverTab');
        const pcPanel = document.getElementById('pcPanel');
        const driverPanel = document.getElementById('driverPanel');
        const tabSlider = document.querySelector('.tab-slider');

        // 初始化选项卡位置
        updateTabSliderPosition();

        pcTab.addEventListener('click', () => {
            if (!pcTab.classList.contains('active')) {
                pcTab.classList.add('active');
                driverTab.classList.remove('active');
                pcPanel.classList.remove('hide');
                driverPanel.classList.remove('show');
                updateTabSliderPosition();
            }
        });

        driverTab.addEventListener('click', () => {
            if (!driverTab.classList.contains('active')) {
                driverTab.classList.add('active');
                pcTab.classList.remove('active');
                pcPanel.classList.add('hide');
                driverPanel.classList.add('show');
                updateTabSliderPosition();
            }
        });

        // 更新选项卡滑块位置
        function updateTabSliderPosition() {
            const activeTab = document.querySelector('.tab-btn.active');
            if (activeTab) {
                const tabRect = activeTab.getBoundingClientRect();
                const containerRect = document.querySelector('.tab-switcher').getBoundingClientRect();
                tabSlider.style.width = `${tabRect.width}px`;
                tabSlider.style.left = `${tabRect.left - containerRect.left}px`;
            }
        }

        // 4. 初始化语言（根据系统语言或默认中文）
        function setLanguage(lang = 'zh') {
            document.querySelector('h1').textContent = i18n[lang].title;
            document.querySelector('.footer p').textContent = i18n[lang].footer;
            
            // 更新下载按钮文本
            document.querySelectorAll('.download-btn').forEach(btn => {
                btn.innerHTML = `<i class="fas fa-download"></i>${i18n[lang].download}`;
            });
            
            // 更新驱动按钮文本
            const driverBtns = document.querySelectorAll('.driver-btn');
            if (driverBtns.length >= 1) {
                driverBtns[0].innerHTML = `<i class="fas fa-download"></i>${i18n[lang].driver1}`;
            }
            if (driverBtns.length >= 2) {
                driverBtns[1].innerHTML = `<i class="fas fa-download"></i>${i18n[lang].driver2}`;
            }
            if (driverBtns.length >= 3) {  // 新增对第三个按钮的处理
                driverBtns[2].innerHTML = `<i class="fas fa-download"></i>${i18n[lang].driver3}`;
            }
            
            // 更新软件项目信息
            const items = document.querySelectorAll('.software-item');
            items.forEach((item, index) => {
                const header = item.querySelector('.software-number');
                const desc = item.querySelector('.software-description');
                const version = item.querySelector('.version-tag');
                
                header.textContent = i18n[lang].items[index].name;
                desc.textContent = i18n[lang].items[index].desc;
                version.textContent = i18n[lang].versions[index];
                
                // 重新插入版本标签
                header.innerHTML = i18n[lang].items[index].name + 
                    ` <span class="version-tag">${i18n[lang].versions[index]}</span>`;
            });
            
            // 更新选项卡文本
            pcTab.textContent = i18n[lang].pcTab;
            driverTab.textContent = i18n[lang].driverTab;
            
            // 更新模式按钮文本
            updateModeButtonText();
            
            // 更新下拉框选中状态
            langSelect.value = lang;
            
            // 更新国旗图标
            langSelectEl.setAttribute('data-lang', lang);
        }
        
        // 检测系统语言并设置初始语言
        function detectSystemLanguage() {
            const userLang = navigator.language || navigator.userLanguage;
            if (userLang.startsWith('zh')) {
                return 'zh';
            } else if (userLang.startsWith('en')) {
                return 'en';
            } else if (userLang.startsWith('es')) {
                return 'es';
            }
            return 'zh'; // 默认中文
        }
        
        // 初始化语言
        setLanguage(detectSystemLanguage());

        // 监听语言切换
        langSelect.addEventListener('change', () => {
            setLanguage(langSelect.value);
        });

        // 监听窗口大小变化，更新选项卡滑块位置
        window.addEventListener('resize', updateTabSliderPosition);
    </script>
</body>
</html>